<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>選ばれる歯科医院の分析ダッシュボード</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Chosen Palette: Tailwind Warm Gray (`gray-50`, `gray-800`) + Teal (`teal-600`, `teal-100`) -->
    <!-- Application Structure Plan: 
        SPA(単一ページアプリケーション)として、ナビゲーションで各セクションに移動できるテーマ別のダッシュボード構造を採用。
        1. ホーム: 概要と問題提起。
        2. 診断 (Diagnosis): レポートの「3つの共通点」を、患者の医院選びの「3つの脱落ポイント」として再解釈。インタラクティブなタブ形式で提示し、ユーザーが能動的に情報を発見できるように設計。
        3. データ (Data): 「診断」セクションの根拠となる大手歯科専門サイトの統計データをChart.jsで可視化。予約の機会損失を視覚的に強調する。
        4. 解決策 (Solutions): 具体的なアクションプランを提示。
        5. サービス (Services): レポート提供者のサービスへのCTA（行動喚起）。
        この構造は、LPの構成案をよりインタラクティブにし、ユーザー（歯科医院経営者）が自身の医院の課題を発見し、解決策を理解しやすいように設計されている。
    -->
    <!-- Visualization & Content Choices:
        1.  レポート情報: 3つの共通点 (情報, 口コミ, 予約)
            ゴール: 整理・情報提供
            Viz/Method: インタラクティブなタブ付きコンテンツ (HTML/Tailwind/JS)
            インタラクション: ユーザーが「情報」「口コミ」「予約」のボタンをクリックすると、対応する詳細コンテンツが表示/非表示に切り替わる。
            正当性: ユーザーが一度に1つの課題に集中でき、能動的な探索を促すため。
            ライブラリ: Vanilla JS, Tailwind CSS.
        2.  レポート情報: 「夜20時以降にアクセスが集中」「電話受付時間外の予約が非常に多い」
            ゴール: 変化・トレンドの表示
            Viz/Method: Chart.jsによるバーチャート
            インタラクション: ホバー時のツールチップ表示
            正当性: 「いつ」患者がアクセスしているかを視覚化し、電話対応のみの機会損失を明確に示すため。
            ライブラリ: Chart.js (Canvas)
        3.  レポート情報: 「当日午前→午後に予約する人が6割」
            ゴール: 割合の表示
            Viz/Method: Chart.jsによるドーナツチャート
            インタラクション: ホバー時のツールチップ表示
            正当性: 「今すぐ予約したい」という患者の即時性のニーズをパーセンテージで明確に示すため。
            ライブラリ: Chart.js (Canvas)
        4.  レポート情報: 複数の媒体 (HP, ポータル, Google BP, SNS)
            ゴール: 整理・情報提供
            Viz/Method: スタイリングされたカードのグリッド (HTML/Tailwind)
            インタラクション: なし (静的表示)
            正当性: 箇条書きよりも視覚的に「複数の媒体」を強調できるため。
            ライブラリ: Tailwind CSS.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', 'Noto Sans JP', sans-serif;
        }
        .chart-container {
            position: relative;
            width: 100%;
            margin-left: auto;
            margin-right: auto;
        }
        .chart-container-bar {
            max-width: 800px;
            height: 350px;
            max-height: 400px;
        }
        .chart-container-doughnut {
            max-width: 350px;
            height: 300px;
            max-height: 350px;
        }
        nav a {
            transition: all 0.3s ease;
        }
        nav a.active-link {
            color: #0d9488; /* teal-600 */
            font-weight: 600;
            border-bottom: 2px solid #0d9488;
        }
        .tab-btn {
            transition: all 0.3s ease;
        }
        .tab-btn.active-tab {
            background-color: #0d9488; /* teal-600 */
            color: white;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 leading-relaxed">

    <!-- Header & Navigation -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
        <div class="container mx-auto max-w-6xl px-4">
            <div class="flex items-center justify-between h-16">
                <!-- Logo -->
                <div class="text-2xl font-bold text-teal-700">
                    Dental Insight
                </div>
                
                <!-- Desktop Navigation Links -->
                <ul id="desktop-nav" class="hidden sm:flex items-center space-x-4 sm:space-x-8">
                    <li><a href="#home" data-target="home" class="nav-link text-gray-600 hover:text-teal-600 pb-1 pt-2 px-1 text-sm sm:text-base">ホーム</a></li>
                    <li><a href="#diagnosis" data-target="diagnosis" class="nav-link text-gray-600 hover:text-teal-600 pb-1 pt-2 px-1 text-sm sm:text-base">3つの脱落要因</a></li>
                    <li><a href="#data" data-target="data" class="nav-link text-gray-600 hover:text-teal-600 pb-1 pt-2 px-1 text-sm sm:text-base">データ分析</a></li>
                    <li><a href="#solutions" data-target="solutions" class="nav-link text-gray-600 hover:text-teal-600 pb-1 pt-2 px-1 text-sm sm:text-base">解決策</a></li>
                    <li><a href="#services" data-target="services" class="nav-link text-gray-600 hover:text-teal-600 pb-1 pt-2 px-1 text-sm sm:text-base">サービス</a></li>
                </ul>

                <!-- Mobile Menu Button (Hamburger) -->
                <button id="mobile-menu-button" class="sm:hidden p-2 rounded-md text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-teal-500">
                    <svg id="menu-icon" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
                    </svg>
                    <svg id="close-icon" class="h-6 w-6 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
        </div>

        <!-- Mobile Menu Drawer -->
        <div id="mobile-menu" class="hidden sm:hidden bg-white shadow-lg border-t border-gray-200 fixed top-16 w-full z-40">
            <ul class="flex flex-col space-y-2 p-4">
                <li><a href="#home" data-target="home" class="mobile-nav-link nav-link block py-2 px-3 text-gray-700 hover:bg-teal-50 hover:text-teal-600 rounded-md">ホーム</a></li>
                <li><a href="#diagnosis" data-target="diagnosis" class="mobile-nav-link nav-link block py-2 px-3 text-gray-700 hover:bg-teal-50 hover:text-teal-600 rounded-md">3つの脱落要因</a></li>
                <li><a href="#data" data-target="data" class="mobile-nav-link nav-link block py-2 px-3 text-gray-700 hover:bg-teal-50 hover:text-teal-600 rounded-md">データ分析</a></li>
                <li><a href="#solutions" data-target="solutions" class="mobile-nav-link nav-link block py-2 px-3 text-gray-700 hover:bg-teal-50 hover:text-teal-600 rounded-md">解決策</a></li>
                <li><a href="#services" data-target="services" class="mobile-nav-link nav-link block py-2 px-3 text-gray-700 hover:bg-teal-50 hover:text-teal-600 rounded-md">サービス</a></li>
            </ul>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto max-w-6xl px-4 py-8 sm:py-12">

        <!-- Section 1: Home -->
        <section id="home" class="text-center mb-16 pt-8">
            <h1 class="text-3xl sm:text-4xl font-bold text-teal-700 mb-4">大手歯科専門サイトのデータ分析から見えた、選ばれる医院がやるべき施策とは？</h1>
            <p class="text-lg sm:text-xl text-gray-700 mb-6 max-w-3xl mx-auto">1万医院の分析から判明した、**患者が増え続ける**医院の決定的な共通点と、その具体的な対策をインタラクティブに解説します。</p>
            <p class="text-base text-gray-600 max-w-2xl mx-auto">「ポータルサイトに登録し、ホームページも作った。それでも予約が埋まらない…」<br>その原因は、広告戦略ではなく、**患者が医院を「選ぶ」際の基本的な判断基準**にあるかもしれません。</p>
        </section>

        <!-- Section 2: Diagnosis (The 3 Dropout Points) -->
        <section id="diagnosis" class="mb-16 pt-16">
            <h2 class="text-3xl font-bold text-center mb-4">患者が離れる「3つの脱落要因」</h2>
            <p class="text-center text-gray-600 mb-10 max-w-3xl mx-auto">患者は医院を探す際、無意識に「減点法」で医院をチェックしています。大手歯科専門サイト元責任者の分析に基づき、患者が医院選びを「やめる」決定的な3つのポイントを解説します。ご自身の医院が当てはまっていないか、ご確認ください。</p>
            
            <!-- Tab Buttons -->
            <div class="flex flex-col sm:flex-row justify-center space-y-2 sm:space-y-0 sm:space-x-4 mb-8">
                <button id="btn-info" class="tab-btn text-lg font-semibold py-3 px-6 rounded-lg shadow-sm border border-gray-300 bg-white text-gray-700 hover:bg-gray-100">
                    <span class="text-2xl mr-2">①</span> 情報の不備
                </button>
                <button id="btn-review" class="tab-btn text-lg font-semibold py-3 px-6 rounded-lg shadow-sm border border-gray-300 bg-white text-gray-700 hover:bg-gray-100">
                    <span class="text-2xl mr-2">②</span> 口コミの放置
                </button>
                <button id="btn-booking" class="tab-btn text-lg font-semibold py-3 px-6 rounded-lg shadow-sm border border-gray-300 bg-white text-gray-700 hover:bg-gray-100">
                    <span class="text-2xl mr-2">③</span> 予約の不便さ
                </button>
            </div>

            <!-- Tab Content -->
            <div class="bg-white p-6 sm:p-10 rounded-lg shadow-xl max-w-4xl mx-auto min-h-[300px]">
                <!-- Content 1: Information -->
                <div id="content-info" class="tab-content hidden">
                    <h3 class="text-2xl font-bold text-teal-700 mb-4">要因①：正確・最新・多角的な情報発信が徹底されていない</h3>
                    <p class="text-lg mb-6">もはや医院選びは「情報の総合点」で決まる時代です。患者は複数の媒体を必ずチェックします。</p>
                    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4 text-center mb-6">
                        <div class="bg-teal-50 border border-teal-200 text-teal-800 p-3 rounded-lg"><p>ホームページ</p></div>
                        <div class="bg-teal-50 border border-teal-200 text-teal-800 p-3 rounded-lg"><p>ポータル</p></div>
                        <div class="bg-teal-50 border border-teal-200 text-teal-800 p-3 rounded-lg"><p>Google</p></div>
                        <div class="bg-teal-50 border border-teal-200 text-teal-800 p-3 rounded-lg"><p>マップ</p></div>
                        <div class="bg-teal-50 border border-teal-200 text-teal-800 p-3 rounded-lg"><p>SNS</p></div>
                    </div>
                    <p class="text-lg mb-4">これらの情報にズレ（診療時間、休診日、写真不足）があると、それだけで「信頼できない医院」として脱落要因になります。</p>
                    <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-r-lg">
                        <p class="font-bold text-yellow-800">【重要ポイント】</p>
                        <p class="text-yellow-700">特に「<strong class="font-bold">駐車場の有無</strong>」や「<strong class="font-bold">アクセス方法</strong>」は、多くの患者にとって決定的な判断材料です。この情報が不十分なだけで、選考から除外されるリスクがあります。</p>
                    </div>
                </div>
                <!-- Content 2: Reviews -->
                <div id="content-review" class="tab-content hidden">
                    <h3 class="text-2xl font-bold text-teal-700 mb-4">要因②：口コミ返信で“誠実さ”を伝えられていない</h3>
                    <p class="text-lg mb-4">口コミへの返信対応は、医院の「誠実さ」「トラブル時の対応力」「患者への向き合い方」が最も伝わる部分です。</p>
                    <p class="text-lg mb-6">特に<strong class="text-red-600">ネガティブな口コミへの丁寧な返信</strong>は、他の患者からの信頼を生む大きなチャンスです。</p>
                    <div class="bg-red-50 border-l-4 border-red-400 p-4 rounded-r-lg">
                        <p class="font-bold text-red-800">【見過ごされるリスク】</p>
                        <p class="text-red-700">返信が全くない医院は、それだけで「患者対応力が弱い」「問題に向き合わない」と判断され、選考から脱落することがあります。</p>
                    </div>
                </div>
                <!-- Content 3: Booking -->
                <div id="content-booking" class="tab-content hidden">
                    <h3 class="text-2xl font-bold text-teal-700 mb-4">要因③：ネット予約導線が整っていない</h3>
                    <p class="text-lg mb-4">「電話が繋がる時間」に、患者が予約行動をするとは限りません。大手歯科専門サイトのデータは、ネット予約が使えないことが**「大きな機会損失」**であることを示しています。（詳細は次の「データ分析」セクションを参照）</p>
                    <ul class="list-disc list-inside text-lg space-y-2 mb-6">
                        <li><strong class="text-teal-600">夜20時以降</strong>に予約アクセスが集中する</li>
                        <li>電話受付時間外の予約が非常に多い</li>
                        <li><strong class="text-teal-600">当日午前</strong>にアクセスし、<strong class="text-teal-600">午後</strong>の予約をする人が<strong class="text-teal-600">6割</strong>にのぼる</li>
                    </ul>
                    <div class="bg-blue-50 border-l-4 border-blue-400 p-4 rounded-r-lg">
                        <p class="font-bold text-blue-800">【予約の決定要因】</p>
                        <p class="text-blue-700">働く世代や忙しい患者は、「<strong class="font-bold">今すぐ予約を確定させたい</strong>」というニーズが非常に高いです。ネット予約がない場合、そのまま離脱に繋がります。</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 3: Data -->
        <section id="data" class="mb-16 pt-16">
            <h2 class="text-3xl font-bold text-center mb-4">大手歯科専門サイトデータが示す「予約の真実」</h2>
            <p class="text-center text-gray-600 mb-10 max-w-3xl mx-auto">なぜ「ネット予約」が機会損失に直結するのか。1万医院の分析データが示す「患者のリアルな予約行動」を視覚化しました。貴院の電話受付時間と照らし合わせてご覧ください。</p>

            <div class="grid grid-cols-1 lg:grid-cols-5 gap-8 items-center">
                
                <!-- Bar Chart: Access Time -->
                <div class="lg:col-span-3 bg-white p-6 rounded-lg shadow-xl">
                    <h3 class="text-xl font-semibold text-center mb-4">患者のアクセス時間帯</h3>
                    <div class="chart-container chart-container-bar">
                        <canvas id="accessTimeChart"></canvas>
                    </div>
                    <p class="text-sm text-gray-500 text-center mt-4">医院の電話受付が終了する18時以降、特に20時以降に予約のためのアクセスが集中していることが分かります。</p>
                </div>

                <!-- Doughnut Charts -->
                <div class="lg:col-span-2 flex flex-col gap-8">
                    <!-- Doughnut 1: Same Day -->
                    <div class="bg-white p-6 rounded-lg shadow-xl">
                        <h3 class="text-xl font-semibold text-center mb-4">当日予約の割合</h3>
                        <div class="chart-container chart-container-doughnut">
                            <canvas id="sameDayBookingChart"></canvas>
                        </div>
                        <p class="text-sm text-gray-500 text-center mt-4">当日予約のうち6割が「午前中に予約して午後に来院」というデータ。「今すぐ」のニーズがいかに多いかが分かります。</p>
                    </div>
                    
                    <!-- Doughnut 2: Outside Hours (Mock Data) -->
                    <div class="bg-white p-6 rounded-lg shadow-xl">
                        <h3 class="text-xl font-semibold text-center mb-4">電話受付時間外の予約</h3>
                        <div class="chart-container chart-container-doughnut">
                            <canvas id="outsideHoursChart"></canvas>
                        </div>
                        <p class="text-sm text-gray-500 text-center mt-4">（データ例）全予約のうち、半数以上が電話受付時間外に行われている医院も珍しくありません。</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 4: Solutions -->
        <section id="solutions" class="mb-16 pt-16 text-center">
            <h2 class="text-3xl font-bold mb-4">集患改善のための「最初の3ステップ」</h2>
            <p class="text-center text-gray-600 mb-10 max-w-3xl mx-auto">特別な広告費を投じる前に、まずは患者目線で「選ばれる土台」を徹底的に整備することが、最も確実で低コストな集患対策です。</p>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto">
                <div class="bg-white p-6 rounded-lg shadow-lg border-t-4 border-teal-500">
                    <div class="text-4xl font-bold text-teal-600 mb-3">Step 1</div>
                    <h3 class="text-xl font-semibold mb-3">全媒体の情報整備</h3>
                    <p class="text-gray-600">HP、ポータル、Googleの診療時間・休診日・写真を統一。特に<strong class="text-teal-700">「駐車場情報」</strong>を全媒体に明記します。</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg border-t-4 border-teal-500">
                    <div class="text-4xl font-bold text-teal-600 mb-3">Step 2</div>
                    <h3 class="text-xl font-semibold mb-3">口コミ返信の徹底</h3>
                    <p class="text-gray-600">全ての口コミ、特にネガティブな口コミに「誠実さ」が伝わる返信を速やかに行うフローを構築します。</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg border-t-4 border-teal-500">
                    <div class="text-4xl font-bold text-teal-600 mb-3">Step 3</div>
                    <h3 class="text-xl font-semibold mb-3">ネット予約導線の整備</h3>
                    <p class="text-gray-600">24時間365日、患者が「予約したい」と思った瞬間に予約を完結できるネット予約導線を設計します。</p>
                </div>
            </div>
        </section>

        <!-- Section 5: Services -->
        <section id="services" class="pt-16 text-center bg-teal-50 py-16 rounded-lg">
            <h2 class="text-3xl font-bold mb-4">集患改善ならお任せください</h2>
            <p class="text-center text-gray-700 mb-10 max-w-3xl mx-auto">大手歯科専門サイトでの知見と、データ分析に基づき、全国の医院様の集患を強力にサポートします。</p>
            
            <div class="max-w-4xl mx-auto">
                <h3 class="text-2xl font-bold text-teal-700 mb-6">提供サービス（一例）</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Card 1 -->
                    <div class="bg-white p-6 rounded-xl shadow-xl hover:shadow-2xl transition-shadow duration-300 border-b-4 border-teal-500 text-left">
                        <p class="text-xl font-bold mb-2">ホームページ診断・改善</p>
                        <p class="text-sm text-gray-600">患者目線でのUI/UX、情報精度をチェックし、コンテンツ改善を提案します。</p>
                    </div>
                    <!-- Card 2 -->
                    <div class="bg-white p-6 rounded-xl shadow-xl hover:shadow-2xl transition-shadow duration-300 border-b-4 border-teal-500 text-left">
                        <p class="text-xl font-bold mb-2">情報最適化（大手歯科専門サイト・Google等）</p>
                        <p class="text-sm text-gray-600">全媒体の情報一貫性を確保し、Google BPのMEO対策や、写真・最新情報の充実を図ります。</p>
                    </div>
                    <!-- Card 3 -->
                    <div class="bg-white p-6 rounded-xl shadow-xl hover:shadow-2xl transition-shadow duration-300 border-b-4 border-teal-500 text-left">
                        <p class="text-xl font-bold mb-2">口コミ返信サポート</p>
                        <p class="text-sm text-gray-600">誠実さを伝える返信テンプレート作成と、ネガティブ対応を含む運用フローをサポートします。</p>
                    </div>
                    <!-- Card 4 -->
                    <div class="bg-white p-6 rounded-xl shadow-xl hover:shadow-2xl transition-shadow duration-300 border-b-4 border-teal-500 text-left">
                        <p class="text-xl font-bold mb-2">ネット予約導線の設計・改善</p>
                        <p class="text-sm text-gray-600">24時間予約可能な体制の構築、導線設計を行い、夜間・当日予約の機会損失を徹底排除します。</p>
                    </div>
                    <!-- Card 5 (Spanning 2 columns on desktop) -->
                    <div class="bg-white p-6 rounded-xl shadow-xl hover:shadow-2xl transition-shadow duration-300 border-b-4 border-teal-500 text-left md:col-span-2">
                        <p class="text-xl font-bold mb-2">集患コンサルティング（低価格プラン有）</p>
                        <p class="text-sm text-gray-600">貴院の状況に合わせたオーダーメイドの集患戦略を立案・実行支援します。</p>
                    </div>
                </div>
            </div>

            <a href="https://forms.gle/RbeDP2PP5PCYyiR89" class="bg-teal-600 text-white font-bold py-4 px-10 rounded-lg shadow-lg hover:bg-teal-700 transition-all duration-300 text-lg mt-8 inline-block">
                まずは無料で相談する
            </a>
            <p class="text-sm text-gray-500 mt-4">「このままではいけない」とお考えなら、まずは一度ご相談ください。</p>
        </section>

    </main>

    <!-- Footer -->
    <footer class="text-center py-8 border-t border-gray-200 mt-16">
        <p class="text-gray-500 text-sm">© 2025 歯科医院集患分析レポート. All rights reserved.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- Mobile Menu Toggle Logic ---
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            const menuIcon = document.getElementById('menu-icon');
            const closeIcon = document.getElementById('close-icon');

            const toggleMobileMenu = () => {
                const isMenuOpen = mobileMenu.classList.toggle('hidden');
                menuIcon.classList.toggle('hidden', !isMenuOpen);
                closeIcon.classList.toggle('hidden', isMenuOpen);
            };

            mobileMenuButton.addEventListener('click', toggleMobileMenu);

            // Close menu when a link is clicked (mobile only)
            document.querySelectorAll('.mobile-nav-link').forEach(link => {
                link.addEventListener('click', () => {
                    if (!mobileMenu.classList.contains('hidden')) {
                        toggleMobileMenu();
                    }
                });
            });


            // --- Navigation Logic (Smooth Scroll & Active Link) ---
            const navLinks = document.querySelectorAll('.nav-link');
            
            const updateActiveLink = () => {
                let currentSection = 'home';
                document.querySelectorAll('section').forEach(section => {
                    const sectionTop = section.offsetTop;
                    // Check if scroll position is past the start of the section, accounting for header height (64px)
                    if (window.scrollY >= sectionTop - 100) {
                        currentSection = section.id;
                    }
                });

                navLinks.forEach(link => {
                    // Update both desktop and mobile links
                    link.classList.toggle('active-link', link.dataset.target === currentSection);
                });
            };

            navLinks.forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetId = this.dataset.target;
                    const targetElement = document.getElementById(targetId);
                    if (targetElement) {
                        window.scrollTo({
                            top: targetElement.offsetTop - 80, // Adjust for sticky header (h-16 = 64px, using 80px for margin)
                            behavior: 'smooth'
                        });
                    }
                });
            });

            window.addEventListener('scroll', updateActiveLink);
            updateActiveLink(); // Initial check

            // --- Tab Logic (Section 2) ---
            const tabButtons = {
                info: document.getElementById('btn-info'),
                review: document.getElementById('btn-review'),
                booking: document.getElementById('btn-booking')
            };
            const tabContents = {
                info: document.getElementById('content-info'),
                review: document.getElementById('content-review'),
                booking: document.getElementById('content-booking')
            };

            const allBtnEles = Object.values(tabButtons);
            const allContentEles = Object.values(tabContents);

            const activateTab = (tabName) => {
                allBtnEles.forEach(btn => btn.classList.remove('active-tab'));
                allContentEles.forEach(content => content.classList.add('hidden'));

                if(tabButtons[tabName] && tabContents[tabName]) {
                    tabButtons[tabName].classList.add('active-tab');
                    tabContents[tabName].classList.remove('hidden');
                }
            };

            tabButtons.info.addEventListener('click', () => activateTab('info'));
            tabButtons.review.addEventListener('click', () => activateTab('review'));
            tabButtons.booking.addEventListener('click', () => activateTab('booking'));

            activateTab('info'); // Activate first tab by default

            // --- Chart.js Logic (Section 3) ---

            // Chart 1: Access Time (Bar)
            const ctxAccess = document.getElementById('accessTimeChart').getContext('2d');
            new Chart(ctxAccess, {
                type: 'bar',
                data: {
                    labels: ['〜9時', '10-12時', '13-15時', '16-18時', '19-20時', '20時以降'],
                    datasets: [{
                        label: 'アクセス集中度 (相対値)',
                        data: [15, 20, 25, 40, 75, 100],
                        backgroundColor: (context) => {
                            const chart = context.chart;
                            const {ctx, chartArea} = chart;
                            if (!chartArea) {
                                return;
                            }
                            const gradient = ctx.createLinearGradient(0, chartArea.bottom, 0, chartArea.top);
                            gradient.addColorStop(0, 'rgba(13, 148, 136, 0.2)'); // teal-600 transparent
                            gradient.addColorStop(1, 'rgba(13, 148, 136, 0.8)'); // teal-600
                            return gradient;
                        },
                        borderColor: '#0d9488', // teal-600
                        borderWidth: 2,
                        borderRadius: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        },
                        title: {
                            display: true,
                            text: '医院検索のアクセス時間帯',
                            font: { size: 16 }
                        },
                        tooltip: {
                            backgroundColor: '#333',
                            titleFont: { size: 14 },
                            bodyFont: { size: 12 },
                            padding: 10,
                            cornerRadius: 4
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'アクセス数 (相対)'
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            }
                        }
                    }
                }
            });

            // Chart 2: Same Day Booking (Doughnut)
            const ctxSameDay = document.getElementById('sameDayBookingChart').getContext('2d');
            new Chart(ctxSameDay, {
                type: 'doughnut',
                data: {
                    labels: ['当日午前→午後の予約', 'その他の予約'],
                    datasets: [{
                        data: [60, 40],
                        backgroundColor: ['#0d9488', '#99f6e4'], // teal-600, teal-200
                        borderColor: '#ffffff',
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    cutout: '60%',
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 15
                            }
                        },
                        title: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.label || '';
                                    let value = context.parsed;
                                    return `${label}: ${value}%`;
                                }
                            }
                        }
                    }
                }
            });

            // Chart 3: Outside Hours Booking (Doughnut) - Mock Data
            const ctxOutsideHours = document.getElementById('outsideHoursChart').getContext('2d');
            new Chart(ctxOutsideHours, {
                type: 'doughnut',
                data: {
                    labels: ['電話受付時間外の予約', '受付時間内の予約'],
                    datasets: [{
                        data: [55, 45], // Mock data based on "very many"
                        backgroundColor: ['#0f766e', '#ccfbf1'], // teal-700, teal-100
                        borderColor: '#ffffff',
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    cutout: '60%',
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 15
                            }
                        },
                        title: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.label || '';
                                    let value = context.parsed;
                                    return `${label}: ${value}%`;
                                }
                            }
                        }
                    }
                }
            });

        });
    </script>
</body>
</html>